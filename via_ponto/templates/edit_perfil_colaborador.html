{% extends 'base_colaborador.html' %}
{% load static %}

{% block title %} VIA PONTO - Editar Perfil{% endblock title %}

{% block button %}
    <a href="{% url 'dashboard_colaborador' token=key.id %}"><button class="btn-ponto">DASHBOARD</button></a>
{% endblock %}

{% block content %}
    <h2 class="title">Olá, {{ user.nome }}</h2>
    <h6 class="subtitle">Fique a vontade para alterar seus dados</h6>
    
    <form method="POST" class="mb-7" enctype="multipart/form-data"> {% csrf_token %}
        <div class="form-row">
            <div class="form-group col-md-3">
                <label>Nome</label>
                <input
                    type="text"
                    class="form-control"
                    name="nome"
                    value="{{ user.nome }}"
                >
            </div>
            <div class="form-group col-md-3">
              <label>Celular</label>
              <input
                  type="text"
                  class="form-control"
                  name="celular"
                  id="phone"
                  value="{{ user.celular }}"
              >
          </div>
          <div class="form-group col-md-3">
              <label>E-mail</label>
              <input
                  type="email"
                  class="form-control"
                  name="email"
                  value="{{ user.email }}"
              >
          </div>
          <div class="form-group col-md-3">
            <label>Data Nascimento</label>
            <input
                type="date"
                class="form-control"
                name="data_nasc"
                value="{{ user.data_nasc }}"
            >
          </div>
        </div>

        <h4 class="subtitle my-3">Endereço</h4>
        <div class="form-row">
            <div class="form-group col-md-4">
                <label>CEP</label>
                <input 
                    type="text"
                    class="form-control"
                    name="cep"
                    id="id_postal_code"
                    onchange="getAddress()"
                    value="{{ user.cep }}"
                >
            </div>
            <div class="form-group col-md-4">
                <label>UF</label>
                <input
                    type="text"
                    class="form-control"
                    name="uf"
                    id="id_state"
                    value="{{ user.uf }}"
                >
            </div>
            <div class="form-group col-md-4">
                <label>Cidade</label>
                <input
                    type="text"
                    class="form-control"
                    name="cidade"
                    id="id_city"
                    value="{{ user.cidade }}"
                >
            </div>
        </div>
            
        <div class="form-row">
            <div class="form-group col-md-4">
                <label>Logradouro</label>
                <input
                    type="text"
                    class="form-control"
                    name="logradouro"
                    id="id_address"
                    value="{{ user.logradouro }}"
                >
            </div>
            <div class="form-group col-md-4">
                <label>Bairro</label>
                <input
                    type="text"
                    class="form-control"
                    name="bairro"
                    id="id_district"
                    value="{{ user.bairro }}"
                >
            </div>
            <div class="form-group col-md-4">
                <label>Número</label>
                <input
                    type="text"
                    class="form-control"
                    name="numero"
                    value="{{ user.numero }}"
                >
            </div>
        </div>
        <button type="submit" class="btn btn-info btn-lg">SALVAR</button>
        
    </form>
{% endblock %}

{% block scripts %}
    <script src="https://unpkg.com/imask@6.0.7/dist/imask.js"></script>
    <script src="{% static 'js/mask-func.js' %}"></script>
    <script src="{% static 'js/api-cep.js' %}"></script>
{% endblock %}